CHLASM for Black & White: Creature Isle 

This is a tool to compile/decompile CHL files used by the game Black & White: Creature
Isle expansion developed by Lionhead Studios and released in 2002.

_______________________

HOW TO USE THIS TOOL

The tool has a main class named it.ld.bw.chl.Main, it can be executed without arguments
to get the list of the available commands and their syntax. Currently these functions
are implemented:

- compile CHL source files to CHL binary file;
- decompile CHL binary file to CHL source files;
- convert a CHL binary file to ASM, either in a single file or multiple files (project);
- convert an ASM file (or project) to CHL binary file;
- functionally compare two CHL files;
- various informative functions.

_______________________

REQUIREMENTS

You need to install Java 11 or later in order to run this tool.

_______________________

FAQ

Q: When compiling scripts generated by the decompiler, I get a CHL file a bit larger than the original.
   Why? And how can I avoid this?
A: The decompiler adds instructions to replace unknown constant values with the cast of float values.
   You may add the option -de to define generic enum entries for the unknown values. You have to add the
   generated entries to one of the existing header files.

Q: When compiling scripts generated by the decompiler, I get an error similar to the following:
     error near token "UNK5": Unknown constant "UNK5"
A: In the output folder of the decompile command there is a file named _enums.h, copy its content
   within the file Enum.h found on the path specified in the compile command.

Q: Can I generate sources that don't require to add entries to the original header files?
A: Yes, just remove the -de option from the decompile command.

Q: Can the decompiler generate shorter names for enum entries?
A: Yes, just provide a file with global constant declarations, the decompiler will do the rest.
_______________________

ABOUT

This project is a derived work of CHLASM for B&W1, see it for further references.
_______________________

CHANGELOG

# Version 0.9
- Implemented statement 'get building ABODE_NUMBER in OBJECT [min built EXPRESSION] [excluding scripted]'

# Version 0.8
- Accept gfx keyword as abbreviation of graphics

# Version 0.7
- Added '//@noyield' annotation to speed up execution of short-living scripts
- Fixed error on external all-caps global variables
- Fixed .o filename collision when compiling multiple files with the same name in different folders
- Removed warning for missing default scripts

_______________________

CHLASM, Copyright (c) 2023 Daniele Lombardi / Daniels118. 
This software is distributed under GNU GENERAL PUBLIC LICENSE Version 3.
Read LICENSE.TXT file for more details about licenses applicable to this software.
